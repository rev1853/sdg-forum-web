{"openapi":"3.0.3","info":{"title":"SDG Threads API","version":"1.0.0","description":"API documentation for the SDG-themed discussion platform"},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"security":[],"paths":{"/auth/register":{"post":{"tags":["Auth"],"summary":"Register a new user","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email","username","password"],"properties":{"email":{"type":"string"},"username":{"type":"string"},"name":{"type":"string"},"password":{"type":"string"}}}}}},"responses":{"201":{"description":"User registered successfully"}}}},"/auth/login":{"post":{"tags":["Auth"],"summary":"Log in with email or username","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["identifier","password"],"properties":{"identifier":{"type":"string"},"password":{"type":"string"}}}}}},"responses":{"200":{"description":"User authenticated successfully"}}}},"/auth/reset-password/request":{"post":{"tags":["Auth"],"summary":"Verify email and issue reset token","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email"],"properties":{"email":{"type":"string"}}}}}},"responses":{"200":{"description":"Reset token generated"}}}},"/auth/reset-password/confirm":{"post":{"tags":["Auth"],"summary":"Reset password using token","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["token","password"],"properties":{"token":{"type":"string"},"password":{"type":"string"}}}}}},"responses":{"200":{"description":"Password reset successfully"}}}},"/categories":{"get":{"tags":["Categories"],"summary":"List available SDG categories","responses":{"200":{"description":"Categories list"}}}},"/dashboard/stats/threads-weekly":{"get":{"tags":["Dashboard"],"summary":"Get thread metrics for the past 7 days","responses":{"200":{"description":"Weekly thread statistics"}}}},"/dashboard/top-threads":{"get":{"tags":["Dashboard"],"summary":"Top 10 threads with the highest interaction in the past 7 days","responses":{"200":{"description":"Ranked list of threads"}}}},"/threads":{"post":{"tags":["Threads"],"summary":"Create a new top-level thread","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","required":["title","body","categoryIds"],"properties":{"title":{"type":"string"},"body":{"type":"string"},"categoryIds":{"type":"array","items":{"type":"string"}},"tags":{"type":"array","items":{"type":"string"}},"image":{"type":"string","format":"binary"}}}}}},"responses":{"201":{"description":"Thread created"}}},"get":{"tags":["Threads"],"summary":"List threads","parameters":[{"in":"query","name":"page","schema":{"type":"integer"}},{"in":"query","name":"pageSize","schema":{"type":"integer"}},{"in":"query","name":"tags","schema":{"type":"string"},"description":"Comma separated list of tags"},{"in":"query","name":"categories","schema":{"type":"string"},"description":"Comma separated list of category IDs"},{"in":"query","name":"search","schema":{"type":"string"},"description":"Search threads by title"}],"responses":{"200":{"description":"Threads list"}}}},"/threads/{threadId}/replies":{"post":{"tags":["Threads"],"summary":"Reply to a thread","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"threadId","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","required":["body"],"properties":{"title":{"type":"string"},"body":{"type":"string"},"categoryIds":{"type":"array","items":{"type":"string"}},"tags":{"type":"array","items":{"type":"string"}},"image":{"type":"string","format":"binary"}}}}}},"responses":{"201":{"description":"Reply created"}}},"get":{"tags":["Threads"],"summary":"List replies for a thread","parameters":[{"in":"path","name":"threadId","required":true,"schema":{"type":"string"}},{"in":"query","name":"page","schema":{"type":"integer"}},{"in":"query","name":"pageSize","schema":{"type":"integer"}}],"responses":{"200":{"description":"Replies list"}}}},"/threads/{threadId}":{"get":{"tags":["Threads"],"summary":"Get thread details","parameters":[{"in":"path","name":"threadId","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Thread detail"}}}},"/threads/{threadId}/like":{"post":{"tags":["Interactions"],"summary":"Like a thread","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"threadId","required":true,"schema":{"type":"string"}}],"responses":{"201":{"description":"Thread liked"}}},"delete":{"tags":["Interactions"],"summary":"Remove like from a thread","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"threadId","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Like removed"}}}},"/threads/{threadId}/repost":{"post":{"tags":["Interactions"],"summary":"Repost a thread","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"threadId","required":true,"schema":{"type":"string"}}],"responses":{"201":{"description":"Thread reposted"}}},"delete":{"tags":["Interactions"],"summary":"Remove repost from a thread","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"threadId","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Repost removed"}}}},"/threads/{threadId}/report":{"post":{"tags":["Moderation"],"summary":"Report a thread","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"threadId","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["reasonCode"],"properties":{"reasonCode":{"type":"string"},"message":{"type":"string"}}}}}},"responses":{"201":{"description":"Report submitted"}}}},"/users/{userId}":{"get":{"tags":["Users"],"summary":"Get user details","parameters":[{"in":"path","name":"userId","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"User detail"}}},"patch":{"tags":["Users"],"summary":"Update user profile","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"userId","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"email":{"type":"string"},"username":{"type":"string"},"name":{"type":"string"},"removeProfilePicture":{"type":"boolean"},"profilePicture":{"type":"string","format":"binary","description":"New profile picture image"}}}}}},"responses":{"200":{"description":"Updated user profile"}}}},"/users/{userId}/threads":{"get":{"tags":["Users"],"summary":"List threads created by a user","parameters":[{"in":"path","name":"userId","required":true,"schema":{"type":"string"}},{"in":"query","name":"page","schema":{"type":"integer"}},{"in":"query","name":"pageSize","schema":{"type":"integer"}}],"responses":{"200":{"description":"User threads list"}}}},"/users/{userId}/reposts":{"get":{"tags":["Users"],"summary":"List threads reposted by a user","parameters":[{"in":"path","name":"userId","required":true,"schema":{"type":"string"}},{"in":"query","name":"page","schema":{"type":"integer"}},{"in":"query","name":"pageSize","schema":{"type":"integer"}}],"responses":{"200":{"description":"User reposts list"}}}}},"tags":[]}