{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "RollingGallery-TS-CSS",
  "type": "registry:block",
  "title": "RollingGallery",
  "description": "3D rolling gallery with drag controls.",
  "dependencies": [
    "motion"
  ],
  "files": [
    {
      "path": "public/ts/default/src/ts-default/Components/RollingGallery/RollingGallery.tsx",
      "content": "import React, { useEffect, useRef, useState } from 'react';\nimport { motion, useMotionValue, useAnimation, useTransform, PanInfo } from 'motion/react';\nimport './RollingGallery.css';\n\nconst IMGS: string[] = [\n  'https://images.unsplash.com/photo-1528181304800-259b08848526?q=80&w=3870&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n  'https://images.unsplash.com/photo-1506665531195-3566af2b4dfa?q=80&w=3870&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n  'https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?q=80&w=3456&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n  'https://images.unsplash.com/photo-1495103033382-fe343886b671?q=80&w=3870&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n  'https://images.unsplash.com/photo-1506781961370-37a89d6b3095?q=80&w=3264&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n  'https://images.unsplash.com/photo-1599576838688-8a6c11263108?q=80&w=3870&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n  'https://images.unsplash.com/photo-1494094892896-7f14a4433b7a?q=80&w=3870&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n  'https://plus.unsplash.com/premium_photo-1664910706524-e783eed89e71?q=80&w=3869&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n  'https://images.unsplash.com/photo-1503788311183-fa3bf9c4bc32?q=80&w=3870&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n  'https://images.unsplash.com/photo-1585970480901-90d6bb2a48b5?q=80&w=3774&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'\n];\n\ninterface RollingGalleryProps {\n  autoplay?: boolean;\n  pauseOnHover?: boolean;\n  images?: string[];\n}\n\nconst RollingGallery: React.FC<RollingGalleryProps> = ({ autoplay = false, pauseOnHover = false, images = [] }) => {\n  images = IMGS;\n  const [isScreenSizeSm, setIsScreenSizeSm] = useState<boolean>(window.innerWidth <= 640);\n\n  const cylinderWidth: number = isScreenSizeSm ? 1100 : 1800;\n  const faceCount: number = images.length;\n  const faceWidth: number = (cylinderWidth / faceCount) * 1.5;\n  const dragFactor: number = 0.05;\n  const radius: number = cylinderWidth / (2 * Math.PI);\n\n  const rotation = useMotionValue(0);\n  const controls = useAnimation();\n  const autoplayRef = useRef<ReturnType<typeof setInterval> | null>(null);\n\n  const handleDrag = (_: MouseEvent | TouchEvent | PointerEvent, info: PanInfo): void => {\n    controls.stop();\n    rotation.set(rotation.get() + info.offset.x * dragFactor);\n  };\n\n  const handleDragEnd = (_: MouseEvent | TouchEvent | PointerEvent, info: PanInfo): void => {\n    controls.start({\n      rotateY: rotation.get() + info.velocity.x * dragFactor,\n      transition: {\n        type: 'spring',\n        stiffness: 60,\n        damping: 20,\n        mass: 0.1,\n        ease: 'easeOut'\n      }\n    });\n  };\n\n  const transform = useTransform(rotation, (value: number) => {\n    return `rotate3d(0, 1, 0, ${value}deg)`;\n  });\n\n  useEffect(() => {\n    if (autoplay) {\n      autoplayRef.current = setInterval(() => {\n        controls.start({\n          rotateY: rotation.get() - 360 / faceCount,\n          transition: { duration: 2, ease: 'linear' }\n        });\n        rotation.set(rotation.get() - 360 / faceCount);\n      }, 2000);\n\n      return () => {\n        if (autoplayRef.current) clearInterval(autoplayRef.current);\n      };\n    }\n  }, [autoplay, rotation, controls, faceCount]);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsScreenSizeSm(window.innerWidth <= 640);\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  const handleMouseEnter = (): void => {\n    if (autoplay && pauseOnHover) {\n      if (autoplayRef.current) clearInterval(autoplayRef.current);\n      controls.stop();\n    }\n  };\n\n  const handleMouseLeave = (): void => {\n    if (autoplay && pauseOnHover) {\n      controls.start({\n        rotateY: rotation.get() - 360 / faceCount,\n        transition: { duration: 2, ease: 'linear' }\n      });\n      rotation.set(rotation.get() - 360 / faceCount);\n\n      autoplayRef.current = setInterval(() => {\n        controls.start({\n          rotateY: rotation.get() - 360 / faceCount,\n          transition: { duration: 2, ease: 'linear' }\n        });\n        rotation.set(rotation.get() - 360 / faceCount);\n      }, 2000);\n    }\n  };\n\n  return (\n    <div className=\"gallery-container\">\n      <div className=\"gallery-gradient gallery-gradient-left\"></div>\n      <div className=\"gallery-gradient gallery-gradient-right\"></div>\n      <div className=\"gallery-content\">\n        <motion.div\n          drag=\"x\"\n          className=\"gallery-track\"\n          onMouseEnter={handleMouseEnter}\n          onMouseLeave={handleMouseLeave}\n          style={{\n            transform: transform,\n            rotateY: rotation,\n            width: cylinderWidth,\n            transformStyle: 'preserve-3d'\n          }}\n          onDrag={handleDrag}\n          onDragEnd={handleDragEnd}\n          animate={controls}\n        >\n          {images.map((url, i) => (\n            <div\n              key={i}\n              className=\"gallery-item\"\n              style={{\n                width: `${faceWidth}px`,\n                transform: `rotateY(${(360 / faceCount) * i}deg) translateZ(${radius}px)`\n              }}\n            >\n              <img src={url} alt=\"gallery\" className=\"gallery-img\" />\n            </div>\n          ))}\n        </motion.div>\n      </div>\n    </div>\n  );\n};\n\nexport default RollingGallery;\n",
      "type": "registry:component"
    },
    {
      "path": "public/ts/default/src/ts-default/Components/RollingGallery/RollingGallery.css",
      "content": ".gallery-container {\n  position: relative;\n  height: 500px;\n  width: 100%;\n  overflow: hidden;\n}\n\n.gallery-gradient {\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 48px;\n  z-index: 10;\n}\n\n.gallery-gradient-left {\n  left: 0;\n  background: linear-gradient(to left, rgba(0, 0, 0, 0) 0%, #060010 100%);\n}\n\n.gallery-gradient-right {\n  right: 0;\n  background: linear-gradient(to right, rgba(0, 0, 0, 0) 0%, #060010 100%);\n}\n\n.gallery-content {\n  display: flex;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  perspective: 1000px;\n  transform-style: preserve-3d;\n}\n\n.gallery-track {\n  display: flex;\n  height: auto;\n  min-height: 200px;\n  justify-content: center;\n  align-items: center;\n  cursor: grab;\n  transform-style: preserve-3d;\n  width: 100%;\n}\n\n.gallery-item {\n  position: absolute;\n  display: flex;\n  height: fit-content;\n  align-items: center;\n  justify-content: center;\n  padding: 8%;\n  backface-visibility: hidden;\n}\n\n.gallery-img {\n  pointer-events: none;\n  height: 120px;\n  width: 300px;\n  border-radius: 15px;\n  border: 3px solid #fff;\n  object-fit: cover;\n  transition: 0.3s ease;\n}\n\n.gallery-item:hover .gallery-img {\n  transform: scale(1.05);\n  transition: 0.3s ease;\n}\n\n@media (max-width: 768px) {\n  .gallery-item {\n    padding: 6%;\n  }\n\n  .gallery-img {\n    height: 100px;\n    width: 220px;\n  }\n}\n",
      "type": "registry:item"
    }
  ]
}