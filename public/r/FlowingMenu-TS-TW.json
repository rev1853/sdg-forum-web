{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "FlowingMenu-TS-TW",
  "type": "registry:block",
  "title": "FlowingMenu",
  "description": "Liquid flowing active indicator glides between menu items.",
  "dependencies": [
    "gsap",
    "tailwindcss"
  ],
  "files": [
    {
      "path": "public/ts/tailwind/src/ts-tailwind/Components/FlowingMenu/FlowingMenu.tsx",
      "content": "import React from 'react';\nimport { gsap } from 'gsap';\n\ninterface MenuItemProps {\n  link: string;\n  text: string;\n  image: string;\n}\n\ninterface FlowingMenuProps {\n  items?: MenuItemProps[];\n}\n\nconst FlowingMenu: React.FC<FlowingMenuProps> = ({ items = [] }) => {\n  return (\n    <div className=\"w-full h-full overflow-hidden\">\n      <nav className=\"flex flex-col h-full m-0 p-0\">\n        {items.map((item, idx) => (\n          <MenuItem key={idx} {...item} />\n        ))}\n      </nav>\n    </div>\n  );\n};\n\nconst MenuItem: React.FC<MenuItemProps> = ({ link, text, image }) => {\n  const itemRef = React.useRef<HTMLDivElement>(null);\n  const marqueeRef = React.useRef<HTMLDivElement>(null);\n  const marqueeInnerRef = React.useRef<HTMLDivElement>(null);\n\n  const animationDefaults = { duration: 0.6, ease: 'expo' };\n\n  const findClosestEdge = (mouseX: number, mouseY: number, width: number, height: number): 'top' | 'bottom' => {\n    const topEdgeDist = Math.pow(mouseX - width / 2, 2) + Math.pow(mouseY, 2);\n    const bottomEdgeDist = Math.pow(mouseX - width / 2, 2) + Math.pow(mouseY - height, 2);\n    return topEdgeDist < bottomEdgeDist ? 'top' : 'bottom';\n  };\n\n  const handleMouseEnter = (ev: React.MouseEvent<HTMLAnchorElement>) => {\n    if (!itemRef.current || !marqueeRef.current || !marqueeInnerRef.current) return;\n    const rect = itemRef.current.getBoundingClientRect();\n    const edge = findClosestEdge(ev.clientX - rect.left, ev.clientY - rect.top, rect.width, rect.height);\n\n    const tl = gsap.timeline({ defaults: animationDefaults });\n    tl.set(marqueeRef.current, { y: edge === 'top' ? '-101%' : '101%' })\n      .set(marqueeInnerRef.current, { y: edge === 'top' ? '101%' : '-101%' })\n      .to([marqueeRef.current, marqueeInnerRef.current], { y: '0%' });\n  };\n\n  const handleMouseLeave = (ev: React.MouseEvent<HTMLAnchorElement>) => {\n    if (!itemRef.current || !marqueeRef.current || !marqueeInnerRef.current) return;\n    const rect = itemRef.current.getBoundingClientRect();\n    const edge = findClosestEdge(ev.clientX - rect.left, ev.clientY - rect.top, rect.width, rect.height);\n\n    const tl = gsap.timeline({ defaults: animationDefaults }) as TimelineMax;\n    tl.to(marqueeRef.current, { y: edge === 'top' ? '-101%' : '101%' }).to(marqueeInnerRef.current, {\n      y: edge === 'top' ? '101%' : '-101%'\n    });\n  };\n\n  const repeatedMarqueeContent = React.useMemo(() => {\n    return Array.from({ length: 4 }).map((_, idx) => (\n      <React.Fragment key={idx}>\n        <span className=\"text-[#060010] uppercase font-normal text-[4vh] leading-[1.2] p-[1vh_1vw_0]\">{text}</span>\n        <div\n          className=\"w-[200px] h-[7vh] my-[2em] mx-[2vw] p-[1em_0] rounded-[50px] bg-cover bg-center\"\n          style={{ backgroundImage: `url(${image})` }}\n        />\n      </React.Fragment>\n    ));\n  }, [text, image]);\n\n  return (\n    <div className=\"flex-1 relative overflow-hidden text-center shadow-[0_-1px_0_0_#fff]\" ref={itemRef}>\n      <a\n        className=\"flex items-center justify-center h-full relative cursor-pointer uppercase no-underline font-semibold text-white text-[4vh] hover:text-[#060010] focus:text-white focus-visible:text-[#060010]\"\n        href={link}\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n      >\n        {text}\n      </a>\n      <div\n        className=\"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none bg-white translate-y-[101%]\"\n        ref={marqueeRef}\n      >\n        <div className=\"h-full w-[200%] flex\" ref={marqueeInnerRef}>\n          <div className=\"flex items-center relative h-full w-[200%] will-change-transform animate-marquee\">\n            {repeatedMarqueeContent}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FlowingMenu;\n\n// Note: this is also needed\n// /** @type {import('tailwindcss').Config} */\n// export default {\n//   content: [\"./index.html\", \"./src/**/*.{js,ts,jsx,tsx}\"],\n//   theme: {\n//     extend: {\n//       translate: {\n//         '101': '101%',\n//       },\n//       keyframes: {\n//         marquee: {\n//           'from': { transform: 'translateX(0%)' },\n//           'to': { transform: 'translateX(-50%)' }\n//         }\n//       },\n//       animation: {\n//         marquee: 'marquee 15s linear infinite'\n//       }\n//     }\n//   },\n//   plugins: [],\n// };\n",
      "type": "registry:component"
    }
  ]
}